{% load i18n representative %}
<div id="income">
    <h2>{% trans 'Annual Income' %}</h2>
{% if obj.incomedeclaration.all %}
    <div id="bar" class="table">
        <div class="row">
            <div class="cell income-base">&nbsp;</div>
            <div class="cell income-additional">&nbsp;</div>
            <div class="cell income-other">&nbsp;</div>
        </div>
        <div class="row">
            {% with income=obj.income  %}
            <div class="cell" style="width:{{ income.base|percentage:income.total }}">{{ income.base }}</div>
            <div class="cell" style="width:{{ income.additional|percentage:income.total }}">{{ income.additional }}</div>
            <div class="cell" style="width:{{ income.other|percentage:income.other }}">{{ income.other }}</div>
            {% endwith %}
        </div>
    </div>
    <ul id="legend">
        <li><span class="legend-color income-base">&nbsp;</span>{% trans 'Base salary' %} <span class="explain" title="{% trans 'Legally defined salary for representatives' %}">?</span></li>
        <li><span class="legend-color income-additional">&nbsp;</span>{% trans 'Additional income' %} <span class="explain" title="{% trans 'Additional legally defined salary that a representative receives for activities such as being the head of a committee' %}">?</span></li>
        <li><span class="legend-color income-other">&nbsp;</span>{% trans 'Business income' %} <span class="explain" title="{% trans 'Income that a representative receives from businesses owned by him/her' %}">?</span></li>
    </ul>
{% else %}
    <div id="legend">{% trans 'This representative has not submitted an asset declaration yet.' %}</div>
{% endif %}
</div>
